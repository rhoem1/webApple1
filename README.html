<h1>webApple1</h1>

<p>An Apple1 emulator using 65co2 cpu emulation, in javascript <br />
By Robert Hoem</p>

<p>Wozmonitor, Integer BASIC,  MS BASIC from <a href="https://github.com/jefftranter/6502">jefftrantor</a> <br />
Krusader 1.3 from <a href="http://school.anhb.uwa.edu.au/personalpages/kwessen/apple1/Krusader.htm">krusader</a> <br />
Terminal from <a href="https://github.com/chjj/term.js">term.js</a> <br />
AnimationFrame handler from <a href="https://github.com/kof/animationFrame">AnimationFrame.js</a>  </p>

<h2>Control Buttons</h2>

<ul>
<li>Reset
This will reset the emulation and drop the user into the Wozmonitor (at $FF00)</li>
<li>NMI
This will trigger a non-maskable interrupt in the CPU.  Krusader's debugger will be started.</li>
<li>Integer BASIC
Resets the CPU, then starts Integer BASIC (at $E000)</li>
<li>MS BASIC
Copies MS BASIC to $400, resets the CPU, starts MS BASIC.  40959 Bytes free.</li>
<li>Krusader
Resets the CPU, starts Krusader (at $F000)</li>
</ul>

<h2>Memory Map</h2>

<p>$00 Zero Page <br />
$01 Stack <br />
$02 Input Buffer for most things <br />
$03-$CF RAM <br />
$D0 Hardware I/O <br />
$E0 Integer Basic <br />
$F0 Krusader <br />
$FF Wozmonitor  </p>

<h2>Emulated Hardware</h2>

<p>The Apple 1's VIA is not duplicated throught $D000.  It is only available as <br />
$D010 PIAKB <br />
$D011 PIAKBcr <br />
$D012 PIADSP <br />
$D013 PIADSPcr</p>

<p>The cycle count of the cpu modulus 256 is found at <br />
$D01F CYCLES <br />
Reading this will return the lower 8 bits of the current cycle count.  </p>

<p>A call to the browser's random number generator is found at <br />
$D01E RNG <br />
Reading this will return a random value from 0 to 255.</p>

<h2>Notes</h2>

<p>The DSP is not limited to the speed of the original hardware.  As soon as a value
is written to PIADSP, it will be sent to the terminal.  Also, the width of the terminal
is not limited to 40 columns, so it is possible that certain programs may display
incorrectly.</p>

<p>If you'd like to feed the emulation text from a text file, there is a textarea control
below the terminal.  The associated Load button will load the contents of the textarea
into the emulation via the keyboard input.  The code you see in this box is the BASIC
program AMAZING.BAS, a simple maze generator.  To run it, click the MS BASIC button, then
after the Bytes Free message, click the Load button.  The program is then transferred
into the BASIC interperter.  Type 'RUN' once it is loaded and generate a Maze.</p>

<p>The emulation tries to run at 4 cycles per microsecond (or 4 * time delta from last frame),
so it is reasonably fast.</p>
